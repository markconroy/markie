<?php

/**
 * @file
 * The module file with theming functions.
 */

use Drupal\Component\Utility\Html;
use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function highlight_js_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    case 'help.page.highlight_js':
      $text = file_get_contents(__DIR__ . '/README.txt');
      if (!\Drupal::moduleHandler()->moduleExists('markdown')) {
        return '<pre>' . Html::escape($text) . '</pre>';
      }
      else {
        // Use the Markdown filter to render the README.
        $filter_manager = \Drupal::service('plugin.manager.filter');
        $settings = \Drupal::configFactory()->get('markdown.settings')->getRawData();
        $config = ['settings' => $settings];
        $filter = $filter_manager->createInstance('markdown', $config);
        return $filter->process($text, 'en');
      }
  }
  return NULL;
}

/**
 * Implements hook_theme().
 */
function highlight_js_theme($existing, $type, $theme, $path) {

  return [
    'highlight_js_language_select' => [
      'variables' => [
        'text' => NULL,
        'url' => NULL,
        'language' => NULL,
      ],
      'template' => 'highlight-js/highlight_js-language-select',
    ],
  ];
}

/**
 * Available languages.
 */
function highlight_js_available_themes() {
  $themes = [
    '3024' => t('3024'),
    'apathy' => t('Apathy'),
    'apprentice' => t('Apprentice'),
    'ashes' => t('Ashes'),
    'atelier-cave-light' => t('Atelier cave light'),
    'atelier-cave' => t('Atelier cave'),
    'atelier-dune-light' => t('Atelier dune light'),
    'atelier-dune' => t('Atelier dune'),
    'atelier-estuary-light' => t('Atelier estuary light'),
    'atelier-estuary' => t('Atelier estuary'),
    'atelier-forest-light' => t('Atelier forest light'),
    'atelier-forest' => t('Atelier forest'),
    'atelier-heath-light' => t('Atelier heath light'),
    'atelier-heath' => t('Atelier heath'),
    'atelier-lakeside-light' => t('Atelier lakeside light'),
    'atelier-lakeside' => t('Atelier lakeside'),
    'atelier-plateau-light' => t('Atelier plateau light'),
    'atelier-plateau' => t('Atelier plateau'),
    'atelier-savanna-light' => t('Atelier savanna light'),
    'atelier-savanna' => t('Atelier savanna'),
    'atelier-seaside-light' => t('Atelier seaside light'),
    'atelier-seaside' => t('Atelier seaside'),
    'atelier-sulphurpool-light' => t('Atelier sulphurpool light'),
    'atelier-sulphurpool' => t('Atelier sulphurpool'),
    'atlas' => t('Atlas'),
    'bespin' => t('Bespin'),
    'black-metal-bathory' => t('Black metal bathory'),
    'black-metal-burzum' => t('Black metal burzum'),
    'black-metal-dark-funeral' => t('Black metal dark funeral'),
    'black-metal-gorgoroth' => t('Black metal gorgoroth'),
    'black-metal-immortal' => t('Black metal immortal'),
    'black-metal-khold' => t('Black metal khold'),
    'black-metal-marduk' => t('Black metal marduk'),
    'black-metal-mayhem' => t('Black metal mayhem'),
    'black-metal-nile' => t('Black metal nile'),
    'black-metal-venom' => t('Black metal venom'),
    'black-metal' => t('Black metal'),
    'brewer' => t('Brewer'),
    'bright' => t('Bright'),
    'brogrammer' => t('Brogrammer'),
    'brush-trees-dark' => t('Brush trees dark'),
    'brush-trees' => t('Brush trees'),
    'chalk' => t('Chalk'),
    'circus' => t('Circus'),
    'classic-dark' => t('Classic dark'),
    'classic-light' => t('Classic light'),
    'codeschool' => t('Codeschool'),
    'colors' => t('Colors'),
    'cupcake' => t('Cupcake'),
    'cupertino' => t('Cupertino'),
    'danqing' => t('Danqing'),
    'darcula' => t('Darcula'),
    'dark-violet' => t('Dark violet'),
    'darkmoss' => t('Darkmoss'),
    'darktooth' => t('Darktooth'),
    'decaf' => t('Decaf'),
    'default-dark' => t('Default dark'),
    'default-light' => t('Default light'),
    'dirtysea' => t('Dirtysea'),
    'dracula' => t('Dracula'),
    'edge-dark' => t('Edge dark'),
    'edge-light' => t('Edge light'),
    'eighties' => t('Eighties'),
    'embers' => t('Embers'),
    'equilibrium-dark' => t('Equilibrium dark'),
    'equilibrium-gray-dark' => t('Equilibrium gray dark'),
    'equilibrium-gray-light' => t('Equilibrium gray light'),
    'equilibrium-light' => t('Equilibrium light'),
    'espresso' => t('Espresso'),
    'eva-dim' => t('Eva dim'),
    'eva' => t('Eva'),
    'flat' => t('Flat'),
    'framer' => t('Framer'),
    'fruit-soda' => t('Fruit soda'),
    'gigavolt' => t('Gigavolt'),
    'github' => t('Github'),
    'google-dark' => t('Google dark'),
    'google-light' => t('Google light'),
    'grayscale-dark' => t('Grayscale dark'),
    'grayscale-light' => t('Grayscale light'),
    'green-screen' => t('Green screen'),
    'gruvbox-dark-hard' => t('Gruvbox dark hard'),
    'gruvbox-dark-medium' => t('Gruvbox dark medium'),
    'gruvbox-dark-pale' => t('Gruvbox dark pale'),
    'gruvbox-dark-soft' => t('Gruvbox dark soft'),
    'gruvbox-light-hard' => t('Gruvbox light hard'),
    'gruvbox-light-medium' => t('Gruvbox light medium'),
    'gruvbox-light-soft' => t('Gruvbox light soft'),
    'hardcore' => t('Hardcore'),
    'harmonic16-dark' => t('Harmonic16 dark'),
    'harmonic16-light' => t('Harmonic16 light'),
    'heetch-dark' => t('Heetch dark'),
    'heetch-light' => t('Heetch light'),
    'helios' => t('Helios'),
    'hopscotch' => t('Hopscotch'),
    'horizon-dark' => t('Horizon dark'),
    'horizon-light' => t('Horizon light'),
    'humanoid-dark' => t('Humanoid dark'),
    'humanoid-light' => t('Humanoid light'),
    'ia-dark' => t('Ia dark'),
    'ia-light' => t('Ia light'),
    'icy-dark' => t('Icy dark'),
    'ir-black' => t('Ir black'),
    'isotope' => t('Isotope'),
    'kimber' => t('Kimber'),
    'london-tube' => t('London tube'),
    'macintosh' => t('Macintosh'),
    'marrakesh' => t('Marrakesh'),
    'materia' => t('Materia'),
    'material-darker' => t('Material darker'),
    'material-lighter' => t('Material lighter'),
    'material-palenight' => t('Material palenight'),
    'material-vivid' => t('Material vivid'),
    'material' => t('Material'),
    'mellow-purple' => t('Mellow purple'),
    'mexico-light' => t('Mexico light'),
    'mocha' => t('Mocha'),
    'monokai' => t('Monokai'),
    'nebula' => t('Nebula'),
    'nord' => t('Nord'),
    'nova' => t('Nova'),
    'ocean' => t('Ocean'),
    'oceanicnext' => t('Oceanicnext'),
    'one-light' => t('One Light'),
    'onedark' => t('Onedark'),
    'outrun-dark' => t('Outrun Dark'),
    'papercolor-dark' => t('Papercolor Dark'),
    'papercolor-light' => t('Papercolor Light'),
    'paraiso' => t('Paraiso'),
    'pasque' => t('Pasque'),
    'phd' => t('Phd'),
    'pico' => t('Pico'),
    'pop' => t('Pop'),
    'porple' => t('Porple'),
    'qualia' => t('Qualia'),
    'railscasts' => t('Railscasts'),
    'rebecca' => t('Rebecca'),
    'ros-pine-dawn' => t('Ros Pine Dawn'),
    'ros-pine-moon' => t('Ros Pine Moon'),
    'ros-pine' => t('Ros Pine'),
    'sagelight' => t('Sagelight'),
    'sandcastle' => t('Sandcastle'),
    'seti-ui' => t('Seti UI'),
    'shapeshifter' => t('Shapeshifter'),
    'silk-dark' => t('Silk Dark'),
    'silk-light' => t('Silk Light'),
    'snazzy' => t('Snazzy'),
    'solar-flare-light' => t('Solar Flare Light'),
    'solar-flare' => t('Solar Flare'),
    'solarized-dark' => t('Solarized Dark'),
    'solarized-light' => t('Solarized Light'),
    'spacemacs' => t('Spacemacs'),
    'summercamp' => t('Summercamp'),
    'summerfruit-dark' => t('Summerfruit Dark'),
    'summerfruit-light' => t('Summerfruit Light'),
    'synth-midnight-terminal-dark' => t('Synth Midnight Terminal Dark'),
    'synth-midnight-terminal-light' => t('Synth Midnight Terminal Light'),
    'tango' => t('Tango'),
    'tender' => t('Tender'),
    'tomorrow-night' => t('Tomorrow Night'),
    'tomorrow' => t('Tomorrow'),
    'twilight' => t('Twilight'),
    'unikitty-dark' => t('Unikitty Dark'),
    'unikitty-light' => t('Unikitty Light'),
    'vulcan' => t('Vulcan'),
    'windows-10-light' => t('Windows 10 Light'),
    'windows-10' => t('Windows 10'),
    'windows-95-light' => t('Windows 95 Light'),
    'windows-95' => t('Windows 95'),
    'windows-high-contrast-light' => t('Windows High Contrast Light'),
    'windows-high-contrast' => t('Windows High Contrast'),
    'windows-nt-light' => t('Windows NT Light'),
    'windows-nt' => t('Windows NT'),
    'woodland' => t('Woodland'),
    'xcode-dusk' => t('Xcode Dusk'),
    'zenburn' => t('Zenburn'),
    'a11y-dark' => t('A11y Dark'),
    'a11y-light' => t('A11y Light'),
    'agate' => t('Agate'),
    'an-old-hope' => t('An Old Hope'),
    'androidstudio' => t('Androidstudio'),
    'arduino-light' => t('Arduino Light'),
    'arta' => t('Arta'),
    'ascetic' => t('Ascetic'),
    'atom-one-dark-reasonable' => t('Atom One Dark Reasonable'),
    'atom-one-dark' => t('Atom One Dark'),
    'atom-one-light' => t('Atom One Light'),
    'brown-paper' => t('Brown Paper'),
    'codepen-embed' => t('Codepen Embed'),
    'color-brewer' => t('Color Brewer'),
    'dark' => t('Dark'),
    'default' => t('Default'),
    'devibeans' => t('Devibeans'),
    'docco' => t('Docco'),
    'far' => t('Far'),
    'felipec' => t('Felipec'),
    'foundation' => t('Foundation'),
    'github-dark-dimmed' => t('Github Dark Dimmed'),
    'github-dark' => t('Github Dark'),
    'gml' => t('Gml'),
    'googlecode' => t('Googlecode'),
    'gradient-dark' => t('Gradient Dark'),
    'gradient-light' => t('Gradient Light'),
    'grayscale' => t('Grayscale'),
    'hybrid' => t('Hybrid'),
    'idea' => t('Idea'),
    'intellij-light' => t('Intellij Light'),
    'isbl-editor-dark' => t('Isbl Editor Dark'),
    'isbl-editor-light' => t('Isbl Editor Light'),
    'kimbie-dark' => t('Kimbie Dark'),
    'kimbie-light' => t('Kimbie Light'),
    'lightfair' => t('Lightfair'),
    'lioshi' => t('Lioshi'),
    'magula' => t('Magula'),
    'mono-blue' => t('Mono Blue'),
    'monokai-sublime' => t('Monokai Sublime'),
    'night-owl' => t('Night Owl'),
    'nnfx-dark' => t('Nnfx Dark'),
    'nnfx-light' => t('Nnfx Light'),
    'obsidian' => t('Obsidian'),
    'panda-syntax-dark' => t('Panda Syntax Dark'),
    'panda-syntax-light' => t('Panda Syntax Light'),
    'paraiso-dark' => t('Paraiso Dark'),
    'paraiso-light' => t('Paraiso Light'),
    'pojoaque' => t('Pojoaque'),
    'purebasic' => t('Purebasic'),
    'qtcreator-dark' => t('Qtcreator Dark'),
    'qtcreator-light' => t('Qtcreator Light'),
    'rainbow' => t('Rainbow'),
    'routeros' => t('Routeros'),
    'school-book' => t('School Book'),
    'shades-of-purple' => t('Shades Of Purple'),
    'srcery' => t('Srcery'),
    'stackoverflow-dark' => t('Stackoverflow Dark'),
    'stackoverflow-light' => t('Stackoverflow Light'),
    'sunburst' => t('Sunburst'),
    'tokyo-night-dark' => t('Tokyo Night Dark'),
    'tokyo-night-light' => t('Tokyo Night Light'),
    'tomorrow-night-blue' => t('Tomorrow Night Blue'),
    'tomorrow-night-bright' => t('Tomorrow Night Bright'),
    'vs' => t('Vs'),
    'vs2015' => t('Vs2015'),
    'xcode' => t('Xcode'),
    'xt256' => t('Xt256'),
  ];
  return $themes;
}

/**
 * Available languages.
 */
function highlight_js_available_languages() {
  $languages = [
    '1c' => t('1C'),
    '4d' => t('4D'),
    'sap-abap, abap' => t('ABAP'),
    'abnf' => t('ABNF'),
    'accesslog' => t('Access logs'),
    'ada' => t('Ada'),
    'apex' => t('Apex'),
    'arduino' => t('Arduino (C++ w/Arduino libs)'),
    'armasm' => t('ARM assembler'),
    'avrasm' => t('AVR assembler'),
    'actionscript' => t('ActionScript'),
    'alan' => t('Alan IF'),
    'ln' => t('Alan'),
    'angelscript' => t('AngelScript'),
    'apache' => t('Apache'),
    'applescript' => t('AppleScript'),
    'arcade' => t('Arcade'),
    'asciidoc' => t('AsciiDoc'),
    'aspectj' => t('AspectJ'),
    'autohotkey' => t('AutoHotkey'),
    'autoit' => t('AutoIt'),
    'awk' => t('Awk'),
    'ballerina, bal' => t('Ballerina'),
    'bash, sh, zsh' => t('Bash'),
    'basic' => t('Basic'),
    'bbcode' => t('BBCode'),
    'blade' => t('Blade (Laravel)'),
    'bnf' => t('BNF'),
    'bqn' => t('BQN'),
    'brainfuck' => t('Brainfuck'),
    'csharp' => t('C#'),
    'c' => t('C'),
    'cpp' => t('C++'),
    'cal' => t('C/AL'),
    'c3' => t('C3'),
    'cos' => t('Cache Object Script'),
    'candid' => t('Candid'),
    'cmake' => t('CMake'),
    'cobol' => t('COBOL'),
    'codeowners' => t('CODEOWNERS'),
    'coq' => t('Coq'),
    'csp' => t('CSP'),
    'css' => t('CSS'),
    'capnproto' => t('Capâ€™n Proto'),
    'chaos' => t('Chaos'),
    'chapel' => t('Chapel'),
    'cisco' => t('Cisco CLI'),
    'clojure' => t('Clojure'),
    'coffeescript' => t('CoffeeScript'),
    'cpc' => t('CpcdosC+'),
    'crmsh' => t('Crmsh'),
    'crystal' => t('Crystal'),
    'curl' => t('cURL'),
    'cypher' => t('Cypher (Neo4j)'),
    'd' => t('D'),
    'dafny' => t('Dafny'),
    'dart' => t('Dart'),
    'dpr' => t('Delphi'),
    'diff' => t('Diff'),
    'django' => t('Django'),
    'dns' => t('DNS Zone file'),
    'dockerfile' => t('Dockerfile'),
    'dos' => t('DOS'),
    'dsconfig' => t('dsconfig'),
    'dts' => t('DTS (Device Tree)'),
    'dust' => t('Dust'),
    'dylan' => t('Dylan'),
    'ebnf' => t('EBNF'),
    'elixir' => t('Elixir'),
    'elm' => t('Elm'),
    'erlang' => t('Erlang'),
    'excel' => t('Excel'),
    'extempore' => t('Extempore'),
    'fsharp' => t('F#'),
    'fix' => t('FIX'),
    'flix' => t('Flix'),
    'fortran' => t('Fortran'),
    'func' => t('FunC'),
    'gcode' => t('G-Code'),
    'gams' => t('Gams'),
    'gauss' => t('GAUSS'),
    'godot' => t('GDScript'),
    'gherkin' => t('Gherkin'),
    'hbs' => t('Glimmer and EmberJS'),
    'gn' => t('GN for Ninja'),
    'go' => t('Go'),
    'gf' => t('Grammatical Framework'),
    'golo' => t('Golo'),
    'gradle' => t('Gradle'),
    'graphql' => t('GraphQL'),
    'groovy' => t('Groovy'),
    'gsql' => t('GSQL'),
    'xml' => t('HTML, XML'),
    'http' => t('HTTP'),
    'https' => t('HTTPS'),
    'haml' => t('Haml'),
    'handlebars' => t('Handlebars'),
    'haskell' => t('Haskell'),
    'haxe' => t('Haxe'),
    'hlsl' => t('High-level shader language'),
    'hy' => t('Hy'),
    'ini' => t('Ini, TOML'),
    'inform7' => t('Inform7'),
    'irpf90' => t('IRPF90'),
    'iptables' => t('Iptables'),
    'json' => t('JSON'),
    'java' => t('Java'),
    'javascript' => t('JavaScript'),
    'jolie' => t('Jolie'),
    'julia' => t('Julia'),
    'julia-repl' => t('Julia REPL'),
    'kotlin' => t('Kotlin'),
    'tex' => t('LaTeX'),
    'leaf' => t('Leaf'),
    'lean' => t('Lean'),
    'lasso' => t('Lasso'),
    'less' => t('Less'),
    'ldif' => t('LDIF'),
    'lisp' => t('Lisp'),
    'livecodeserver' => t('LiveCode Server'),
    'livescript' => t('LiveScript'),
    'lookml' => t('LookML'),
    'lua' => t('Lua'),
    'luau' => t('Luau'),
    'macaulay2' => t('Macaulay2'),
    'makefile' => t('Makefile'),
    'markdown' => t('Markdown'),
    'mathematica' => t('Mathematica'),
    'matlab' => t('Matlab'),
    'maxima' => t('Maxima'),
    'mel' => t('Maya Embedded Language'),
    'mercury' => t('Mercury'),
    'mips' => t('MIPS Assembler'),
    'mint' => t('Mint'),
    'mirc' => t('mIRC Scripting Language'),
    'mizar' => t('Mizar'),
    'mkb' => t('MKB'),
    'mlir' => t('MLIR'),
    'mojolicious' => t('Mojolicious'),
    'monkey' => t('Monkey'),
    'moonscript' => t('Moonscript'),
    'motoko' => t('Motoko'),
    'n1ql' => t('N1QL'),
    'nsis' => t('NSIS'),
    'never' => t('Never'),
    'nginx' => t('Nginx'),
    'nim' => t('Nim'),
    'nix' => t('Nix'),
    'oak' => t('Oak'),
    'ocl' => t('Object Constraint Language'),
    'ocaml' => t('OCaml'),
    'objectivec' => t('Objective C'),
    'glsl' => t('OpenGL Shading Language'),
    'openscad' => t('OpenSCAD'),
    'ruleslanguage' => t('Oracle Rules Language'),
    'oxygene' => t('Oxygene'),
    'pf' => t('PF'),
    'php' => t('PHP'),
    'papyrus' => t('Papyrus'),
    'parser3' => t('Parser3'),
    'perl' => t('Perl'),
    'pine' => t('Pine Script'),
    'plaintext' => t('Plaintext'),
    'pony' => t('Pony'),
    'pgsql' => t('PostgreSQL & PL/pgSQL'),
    'powershell' => t('PowerShell'),
    'processing' => t('Processing'),
    'prolog' => t('Prolog'),
    'properties' => t('Properties'),
    'proto' => t('Protocol Buffers'),
    'puppet' => t('Puppet'),
    'python' => t('Python'),
    'profile' => t('Python profiler results'),
    'python-repl' => t('Python REPL'),
    'qsharp' => t('Q#'),
    'k' => t('Q'),
    'qml' => t('QML'),
    'r' => t('R'),
    'cshtml' => t('Razor CSHTML'),
    'reasonml' => t('ReasonML'),
    'redbol' => t('Rebol & Red'),
    'rib' => t('RenderMan RIB'),
    'rsl' => t('RenderMan RSL'),
    'rescript' => t('ReScript'),
    'risc' => t('RiScript'),
    'riscv' => t('RISC-V Assembly'),
    'graph' => t('Roboconf'),
    'robot' => t('Robot Framework'),
    'rpm-specfile' => t('RPM spec files'),
    'ruby' => t('Ruby'),
    'rust' => t('Rust'),
    'rvt' => t('RVT Script'),
    'SAS' => t('SAS'),
    'scss' => t('SCSS'),
    'sql' => t('SQL'),
    'p21' => t('STEP Part 21'),
    'scala' => t('Scala'),
    'scheme' => t('Scheme'),
    'scilab' => t('Scilab'),
    'sfz' => t('SFZ'),
    'shexc' => t('Shape Expressions'),
    'shell' => t('Shell'),
    'smali' => t('Smali'),
    'smalltalk' => t('Smalltalk'),
    'sml' => t('SML'),
    'solidity' => t('Solidity'),
    'spl' => t('Splunk SPL'),
    'stan, stanfuncs' => t('Stan'),
    'stata' => t('Stata'),
    'iecst' => t('Structured Text'),
    'stylus' => t('Stylus'),
    'subunit' => t('SubUnit'),
    'supercollider' => t('Supercollider'),
    'svelte' => t('Svelte'),
    'swift' => t('Swift'),
    'tcl, tk' => t('Tcl'),
    'terraform' => t('Terraform (HCL)'),
    'tap' => t('Test Anything Protocol'),
    'thrift' => t('Thrift'),
    'toit' => t('Toit'),
    'tp' => t('TP'),
    'tsql' => t('Transact-SQL'),
    'twig' => t('Twig'),
    'typescript' => t('TypeScript'),
    'unicorn-rails-log' => t('Unicorn Rails log'),
    'vbnet' => t('VB.Net'),
    'vba' => t('VBA'),
    'vbscript' => t('VBScript'),
    'vhdl' => t('VHDL'),
    'vala' => t('Vala'),
    'verilog' => t('Verilog'),
    'vim' => t('Vim Script'),
    'xsharp' => t('X#'),
    'axapta' => t('X++'),
    'x86asm' => t('x86 Assembly'),
    'x86asmatt' => t('x86 Assembly (AT&T)'),
    'xl' => t('XL'),
    'xquery' => t('XQuery'),
    'yml' => t('YAML'),
    'zenscript' => t('ZenScript'),
    'zephir' => t('Zephir'),
    'zig' => t('Zig'),
  ];

  return $languages;
}
